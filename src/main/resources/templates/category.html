<!DOCTYPE html>

<html lang="en" xmlns:th="http://www.thymeleaf.org">
<html>

<head>

	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
		integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
</head>


<body>

	<nav class="navbar navbar-dark bg-dark">
		<a class="navbar-brand" href="/">Company Asset Management Portal </a>
	</nav>


	<div class="m-5 text-center d-flex justify-content-center">


		<div class=" my-2 mt-5 mr-5" style="width: 50rem;">


			<h2 class="mb-3">All Categories</h2>


			<table border="1" class="table table-dark table-sm table-responsive-sm">
				<tr>

					<th>Name</th>
					<th>Description</th>


				</tr>
				<tr th:each="cat : ${cat}">

					<td th:text="${cat.name}"></td>
					<td th:text="${cat.description}"></td>
					<td>
						<a th:href="@{/api/category/{id}(id=${cat.category_id})}" class="btn btn-primary">Update</a>

					</td>
				</tr>

			</table>
			<span th:if="${#lists.isEmpty(cat)}">Nothing to show</span>
		</div>


		<div class=" mt-5 ml-5">



			<th:block th:switch="${identifyPage}">
				<div th:case="0">
					<form action="#" th:action="@{/api/category}" th:object="${category}" method="POST">
						<input type="text" th:field="*{name}" placeholder="Name" class="form-control m-1 " required>

						<input type="text" th:field="*{description}" placeholder="Description" class="form-control m-1"
							required>
						<button type="submit" class="btn btn-info m-3"> Add a new Category</button>




					</form>
				</div>
				<div th:case="1">
					<form action="#" th:action="@{/api/UpdateCategory}" th:object="${category}" method="POST">
						<input type="hidden" th:field="*{category_id}" />
						<input type="text" th:field="*{name}" class="form-control m-1 " required>

						<input type="text" th:field="*{description}" class="form-control m-1" required>


						<button type="submit" class="btn btn-info m-3"> Update</button>



					</form>
				</div>

			</th:block>

		</div>
	</div>
	</div>


</body>

</html>